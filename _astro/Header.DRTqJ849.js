import{j as e,m as a,g as j}from"./index.BE8oI6nt.js";import{r as n}from"./index.WFquGv8Z.js";import{B as u}from"./links.CWvfy7GL.js";import{A as x}from"./index.BaC6g1ra.js";const g=[{code:"en",label:"English"},{code:"ru",label:"Русский"}];function f({locale:i}){const[r,l]=n.useState(!1),c=n.useRef(null);return n.useEffect(()=>{const t=o=>{c.current&&!c.current.contains(o.target)&&l(!1)};return r&&document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[r]),e.jsxs("div",{className:"relative",ref:c,children:[e.jsx("button",{onClick:()=>l(!r),className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center hover:bg-primary/30 transition-colors","aria-label":"Select language",children:e.jsxs("svg",{className:"w-5 h-5 text-text-light",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 21a9 9 0 100-18 9 9 0 000 18z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.6 9h16.8M3.6 15h16.8"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 3a15 15 0 014 9 15 15 0 01-4 9 15 15 0 01-4-9 15 15 0 014-9z"})]})}),e.jsx(x,{children:r&&e.jsx(a.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute right-0 mt-2 w-40 rounded-xl bg-surface border border-primary/30 shadow-xl shadow-black/20 overflow-hidden z-50",children:g.map(t=>e.jsxs("a",{href:`/${t.code}/`,className:`flex items-center justify-between px-4 py-3 hover:bg-primary/20 transition-colors ${i===t.code?"bg-primary/10":""}`,onClick:()=>l(!1),children:[e.jsx("span",{className:"text-sm text-white",children:t.label}),i===t.code&&e.jsx("svg",{className:"w-4 h-4 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},t.code))})})]})}function N({locale:i}){const r=j(i),[l,c]=n.useState(!1),[t,o]=n.useState(!1);return n.useEffect(()=>{const s=()=>{c(window.scrollY>20)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),n.useEffect(()=>{if(!t)return;const s=()=>o(!1);return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[t]),n.useEffect(()=>{if(!t)return;const s=d=>{const p=d.target,m=document.querySelector("header");m&&!m.contains(p)&&o(!1)},h=setTimeout(()=>{document.addEventListener("click",s)},10);return()=>{clearTimeout(h),document.removeEventListener("click",s)}},[t]),e.jsxs(a.header,{initial:{y:-100},animate:{y:0},transition:{duration:.6,ease:"easeOut"},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${l?"glass-header":""}`,children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsxs(a.a,{href:`/${i}/`,className:"flex items-center gap-2",whileHover:{scale:1.02},children:[e.jsx("img",{src:"/logo_minddy.png",alt:r.siteConfig.name,className:"h-10"}),e.jsx("span",{className:"text-xl font-semibold text-white",children:r.siteConfig.name})]}),e.jsx("nav",{className:"hidden md:flex items-center gap-8",children:r.nav.map(s=>e.jsx(a.a,{href:s.href,className:"text-text-light hover:text-accent transition-colors font-medium",whileHover:{y:-2},children:s.label},s.href))}),e.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[e.jsx(f,{locale:i}),e.jsx(a.a,{href:u,target:"_blank",rel:"noopener noreferrer",className:"btn-primary",whileHover:{scale:1.05},whileTap:{scale:.98},children:r.hero.joinWaitlist})]}),e.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[e.jsx(f,{locale:i}),e.jsx("button",{className:"p-2",onClick:s=>{s.stopPropagation(),o(!t)},"aria-label":"Toggle menu",children:e.jsxs("div",{className:"w-6 h-5 flex flex-col justify-between",children:[e.jsx(a.span,{animate:{rotate:t?45:0,y:t?8:0},className:"w-full h-0.5 bg-white block"}),e.jsx(a.span,{animate:{opacity:t?0:1},className:"w-full h-0.5 bg-white block"}),e.jsx(a.span,{animate:{rotate:t?-45:0,y:t?-8:0},className:"w-full h-0.5 bg-white block"})]})})]})]})}),e.jsx(x,{children:t&&e.jsx(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden glass border-t border-primary/20",children:e.jsxs("nav",{className:"px-4 py-6 space-y-4",children:[r.nav.map(s=>e.jsx("a",{href:s.href,className:"block text-text-light hover:text-accent transition-colors font-medium py-2",onClick:h=>{if(o(!1),s.href.startsWith("#")){h.preventDefault();const d=document.querySelector(s.href);d&&setTimeout(()=>{d.scrollIntoView({behavior:"smooth"})},100)}},children:s.label},s.href)),e.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"btn-primary w-full justify-center mt-4",onClick:()=>o(!1),children:r.hero.joinWaitlist})]})})})]})}export{N as default};
